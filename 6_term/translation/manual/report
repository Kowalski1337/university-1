1.

Построим грамматику.

D -> D or C
	| D xor C
	| C
C -> C and U
	| U
U -> var
	| not U
	| (S)

S	логическая формула
D	дизъюнкция нескольких конъюнкций
C	конъюнкция нескольких унарных выражений
U	унарное выражение (переменная, отрицание унарного выражения или логическая формула в скобках)



Устраним левую рекурсию.

D -> C D'
D'-> or C D'
	| xor C D'
	| epsilon
C -> U C'
C'-> and U C'
	| epsilon
U -> var
	| not U
	| (D)

D	логическая формула, дизъюнкция нескольких конъюнкций
D'	продолжение дизъюнкции нескольких конъюнкций
C	конъюнкция нескольких унарных выражений
C'	продолжение конъюнкции нескольких унарных выражений
U	унарное выражение (переменная, отрицание унарного выражения или логическая формула в скобках)



2. main.cpp

3.

FIRST
D	var, not, (
D'	or, xor, epsilon
C	var, not, (
C'	and, epsilon
U	var, not, (

FOLLOW
D	), $
D'	), $
C	or, xor, ), $
C'	or, xor, ), $
U	and, or, xor, ), $
